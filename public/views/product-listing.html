<div class="container inner-page product-listing">
    <div class="row heading-row">
        <div class="col-12">
            <h3 class="text-center">Προϊόντα</h3>
        </div>
    </div>
    
    <div class="row product-row">
        <div class="col-lg-4 col-md-6 col-sm-12 product-col" ng-repeat="product in products">
            <a ng-href="#/product/{{product.slug}}">
                <img ng-src="{{product.featuredImage}}" err-src="http://localhost:4000/public/img/error-image.jpg" class="img-fluid">
            </a>
            <div class="product-desc">
                <p class="product-title">
                    <span style="display: inline-block; max-width: 80%;">{{product.name}}</span>
                    <span class="float-right">{{product.amountForSale}}</span>
                </p>
                <p>
                    <span class="price-tag">Τιμή:</span>
                    <span ng-if="!product.salesPrice">
                        <span class="price-num"> {{product.price | number: 2}}€</span>
                    </span>
                    <span ng-if="!!product.salesPrice">
                        <span class="normal-price">{{product.price | number: 2}}€</span>
                        <span class="sales-price">{{product.salesPrice | number: 2}}€</span>
                    </span>
                </p>
            </div>
            <button ng-click="addToCart(product);" class="btn-fill">Add to cart</button>
            <hr>
        </div>
        <!-- <ui-message message="message" dur="3000"></ui-message> -->

        <div class="col-sm-9 col-sm-offset-3" ng-if="!!products.length">
            <ul class="pagination">
                <li>
                    <a ng-href="#/products/{{categories}}/1">
                        1
                    </a>
                </li>
                <li ng-if="currentPage - 1 >= 3">
                    <a>...</a>
                </li>
                <li ng-repeat="page in pages track by $index"
                    ng-if="(currentPage - ($index + 1) === 1 
                        || ($index + 1) - currentPage === 1
                        || currentPage === ($index + 1))
                        &&  ($index + 1) !== 1
                        && ($index + 1) !== pages.length">
                    <a ng-href="#/products/{{categories}}/{{$index + 1}}">
                        {{$index + 1}}
                    </a>
                </li>
                <li ng-if="totalPages - currentPage >= 3">
                    <a>...</a>
                </li>
                <li ng-if="pages.length !== 1">
                    <a ng-href="#/products/{{categories}}/{{pages.length}}">
                        {{pages.length}}
                    </a>
                </li>
            </ul>
        </div>
    </div>
    <div class="row">
        <div class="col-12">
            <div ng-repeat="x in productsDone track by $index">
                {{x.title}}, {{x.ml}}
            </div>
        </div>
    </div>
</div>
<success-message message="successMsg" dur="1000000"></success-message>
<fail-message message="failMsg" dur="3000"></fail-message>


<!-- <button class="button" ng-class="{'active': showMessage}" ng-click="activeButton()" type="button">Click Me to Toggle Class</button>
<div ng-class="{'class-name': clicked}" ng-click="clicked = !clicked">test</div> -->